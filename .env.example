# ============================================
# JOONAPAY MOBILE APP - ENVIRONMENT CONFIGURATION
# ============================================
# This file documents compile-time environment variables for the Flutter app.
#
# HOW TO USE:
# Flutter uses --dart-define for compile-time configuration.
# These are NOT runtime environment variables like .env files.
#
# OPTION 1: Command-line flags
#   flutter run --dart-define=API_URL=https://api.joonapay.com/api/v1
#
# OPTION 2: Define file (recommended for multiple variables)
#   Create a file like 'env.dev.json' or 'env.prod.json':
#   {
#     "API_URL": "https://api.joonapay.com/api/v1",
#     "ENV": "production"
#   }
#   Then run: flutter run --dart-define-from-file=env.prod.json
#
# OPTION 3: VS Code launch.json
#   Add to your launch configuration:
#   "args": ["--dart-define=ENV=development"]
#
# SECURITY: Never commit .env files or JSON configs with production secrets!

# ============================================
# ENVIRONMENT
# ============================================
# Application environment
# Options: development, staging, production
ENV=development

# ============================================
# API CONFIGURATION
# ============================================
# Backend API URL (NestJS server)
# Development: http://localhost:3000/api/v1 or http://YOUR_IP:3000/api/v1
# Production: https://api.joonapay.com/api/v1
#
# NOTE: iOS simulator cannot connect to localhost - use your machine's IP address
# Find your IP: ifconfig | grep "inet " | grep -v 127.0.0.1
API_URL=http://192.168.1.115:3000/api/v1

# Production API URL (used when ENV=production)
PROD_API_URL=https://usdc-wallet-api.wejoona.com/api/v1

# ============================================
# CERTIFICATE PINNING (Production Only)
# ============================================
# SHA-256 fingerprints of trusted certificate public keys (SPKI)
#
# HOW TO GENERATE:
#   openssl s_client -servername api.joonapay.com -connect api.joonapay.com:443 </dev/null 2>/dev/null | \
#     openssl x509 -pubkey -noout | \
#     openssl pkey -pubin -outform der | \
#     openssl dgst -sha256 -binary | \
#     openssl enc -base64
#
# IMPORTANT: Include at least 2 fingerprints for certificate rotation:
#   - Current production certificate
#   - Backup/rotation certificate
#
# SECURITY: Certificate pinning is REQUIRED for production builds!
CERT_PIN_1=REPLACE_WITH_ACTUAL_FINGERPRINT_1
CERT_PIN_2=REPLACE_WITH_ACTUAL_FINGERPRINT_2

# ============================================
# MOCK MODE (Development Only)
# ============================================
# Enable mock API responses (set via MockConfig.useMocks in code)
# Mock mode is enabled by default in debug builds
#
# To test with real API in development:
#   1. Set MockConfig.useMocks = false in lib/mocks/mock_config.dart
#   2. Ensure backend is running at API_URL
#
# Development OTP code (when mocks enabled): 123456

# ============================================
# DEEP LINKING
# ============================================
# Custom URL scheme for deep linking
# iOS: Configure in Info.plist
# Android: Configure in AndroidManifest.xml
#
# Scheme: joonapay://
# Examples:
#   joonapay://payment/123
#   joonapay://transfer?recipient=+22501234567
APP_SCHEME=joonapay

# Associated domains (Universal Links)
# iOS: Requires apple-app-site-association file on server
# Android: Requires assetlinks.json on server
APP_DOMAIN=joonapay.com

# ============================================
# FIREBASE (Optional - for Analytics/Crashlytics)
# ============================================
# Firebase is configured via google-services.json (Android) and
# GoogleService-Info.plist (iOS), not environment variables.
#
# Download from Firebase Console:
#   - Android: google-services.json -> android/app/
#   - iOS: GoogleService-Info.plist -> ios/Runner/
#
# SECURITY: These files should NOT be committed to version control!
# Add to .gitignore:
#   android/app/google-services.json
#   ios/Runner/GoogleService-Info.plist

# ============================================
# SENTRY (Error Tracking - Optional)
# ============================================
# DSN from Sentry.io project settings
# SENTRY_DSN=https://xxx@xxx.ingest.sentry.io/xxx

# ============================================
# BUILD CONFIGURATION
# ============================================
# App version (overrides pubspec.yaml if provided)
# APP_VERSION=1.0.0

# Build number
# BUILD_NUMBER=1

# ============================================
# EXAMPLE: Development Configuration File
# ============================================
# Create env.dev.json:
# {
#   "ENV": "development",
#   "API_URL": "http://192.168.1.115:3000/api/v1"
# }
#
# Run: flutter run --dart-define-from-file=env.dev.json

# ============================================
# EXAMPLE: Production Configuration File
# ============================================
# Create env.prod.json (DO NOT COMMIT THIS FILE):
# {
#   "ENV": "production",
#   "API_URL": "https://api.joonapay.com/api/v1",
#   "CERT_PIN_1": "actual_fingerprint_here",
#   "CERT_PIN_2": "backup_fingerprint_here"
# }
#
# Build: flutter build apk --release --dart-define-from-file=env.prod.json

# ============================================
# ACCESS IN DART CODE
# ============================================
# const String apiUrl = String.fromEnvironment('API_URL', defaultValue: 'http://localhost:3000/api/v1');
# const String env = String.fromEnvironment('ENV', defaultValue: 'development');
# const bool isProduction = env == 'production';
